<f:if condition="{object.settlementDates}">
    <f:render partial="Tools/Components/Panel" arguments="{heading:'Fälligkeiten', object:object}" contentAs="direct">
        <table class="table">
            <thead>
            <tr>
                <th>
                    Fälligkeitsdatum
                </th>
                <th colspan="2">
                    Hinweis
                </th>
                <th>
                    Betrag
                </th>
            </tr>
            </thead>
            <tbody>
            <f:for each="{object.settlementDates}" as="settlementDate" iteration="iteration">
                <tr class="{f:if(condition:settlementDate.paymentDelayed, then:'danger')}{f:if(condition:settlementDate.paid, then:'success')}">
                    <td>
                        {settlementDate.dueDate -> f:format.date(format: 'd.m.Y')}
                    </td>
                    <td>
                        {settlementDate.comment}
                    </td>
                    <td class="text-center">
                        <f:render partial="Tools/Form/Checkbox" arguments="{property:'settlementDates.{iteration.index}.paid', checked:settlementDate.paid}"/>
                    </td>
                    <td class="text-right">
                        {settlementDate.amount -> f:format.number(decimalSeparator: ',', decimals: '2', thousandsSeparator: '.')} €
                    </td>
                </tr>
            </f:for>
            </tbody>
            <tfoot>
            <tr>
                <th colspan="3" class="text-right">
                    Gesamtsumme
                </th>
                <th class="text-right">
                    {object.total -> f:format.number(decimalSeparator: ',', decimals: '2', thousandsSeparator: '.')} €
                </th>
            </tr>
            </tfoot>
        </table>
        <div class="panel-footer text-right">
            <f:render partial="Tools/Form/Button" arguments="{_all}"/>
        </div>
    </f:render>
</f:if>


