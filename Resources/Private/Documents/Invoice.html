<html lang="de"
      xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
      xmlns:fr="http://typo3.org/ns/fucodo/registry/ViewHelpers"
      xmlns:inv="http://typo3.org/ns/KayStrobach/Invoice/ViewHelpers"
      xmlns:media="http://typo3.org/ns/Neos/Media/ViewHelpers"
      data-namespace-typo3-fluid="true"
>

<f:layout name="Pdf" />

<f:section name="Content">
    <table class="table table-structure table-border">
        <tr>
            <td>
                &nbsp;
            </td>
        </tr>
        <tr>
            <td style="width: 120mm;">
                <f:if condition="{invoice.customer.email}">
                    gesendet an: {invoice.customer.email}
                </f:if>
                <hr>
                <p>
                    {invoice.seller.combinedAddressOneLine}
                </p>
                <br>
                {invoice.customer.combinedAddress -> f:format.nl2br()}
            </td>
            <td class="text-right">
                {invoice.title}
                <f:if condition="{invoice.subTitle}">
                    <br>
                    {invoice.subTitle}
                </f:if>
                <table>
                    <tr>
                        <th class="text-start">
                            Nr.
                        </th>
                        <td class="text-end">
                            {invoice.number}
                        </td>
                    </tr>
                    <tr>
                        <th class="text-start">
                            Datum
                        </th>
                        <td class="text-end">
                            {invoice.date -> f:format.date(format: 'd.m.Y')}
                        </td>
                    </tr>
                    <tr>
                        <th class="text-start">
                            Kd. Nr.
                        </th>
                        <td class="text-end">
                            {invoice.customer.number}
                        </td>
                    </tr>
                    <tr>
                        <th class="text-start">
                            Angebot
                        </th>
                        <td class="text-end">
                            {invoice.order.offerNumber}
                        </td>
                    </tr>
                    <tr>
                        <th class="text-start">
                            Beauftragt am
                        </th>
                        <td class="text-end">
                            {invoice.order.date -> f:format.date(format: 'd.m.Y')}
                        </td>
                    </tr>

                </table>

                {invoice.date -> f:format.date(format: 'd.m.Y')}
            </td>
        </tr>
    </table>

    <f:if condition="{invoice.additionalInformation}">
        {invoice.additionalInformation -> inv:format.markdown()}
    </f:if>
    <f:if condition="{invoice.periodOfPerformance.start}">
        Leistungzeitraum:
        {invoice.periodOfPerformance.start -> f:format.date(format: 'd.m.Y')}
        -
        {invoice.periodOfPerformance.end -> f:format.date(format: 'd.m.Y')}
    </f:if>

    <f:if condition="{invoice.preText}">
        {invoice.preText -> inv:format.markdown()}
    </f:if>

    <f:render partial="Documents/Invoice/InvoiceItems" arguments="{invoice:invoice}" />

    <f:if condition="{invoice.postText}">
        {invoice.postText -> inv:format.markdown()}
    </f:if>

    <f:render partial="Documents/Invoice/SettlementDates" arguments="{invoice:invoice}" />
</f:section>

